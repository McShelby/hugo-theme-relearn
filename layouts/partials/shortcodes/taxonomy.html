{{- $taxonomy := .taxonomy }}
{{- if eq "string" (printf "%T" $taxonomy) }}
  {{- $taxonomy = .page.GetPage $taxonomy }}
{{- end }}
{{- with $taxonomy }}
  {{- $breadcrumb := .Params.children.breadcrumb }}
  {{- $cardtemplate := .Params.children.cardtemplate }}
  {{- $description := .Params.children.description }}
  {{- $headingdepth := .Params.children.headingdepth }}
  {{- $image := .Params.children.image }}
  {{- $type := .Params.children.type | default "groupInternal" }}
  {{- if eq $type "group" }}
    {{- $type = "groupInternal" }}
  {{- end }}

  {{- .Content }}
  {{- $pages := partialCached "_relearn/pagesTaxonomy.gotmpl" . .Path }}
  {{- partial "shortcodes/children.html" (dict
    "page"         .
    "pages"        $pages
    "breadcrumb"   $breadcrumb
    "cardtemplate" $cardtemplate
    "description"  $description
    "headingdepth" $headingdepth
    "image"        $image
    "showhidden"   true
    "type"         $type
  )}}
{{- end }}